@{
    ViewData["Title"] = "Email Notification";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
<style>
    label {
        padding-bottom: 20px;
    }

    i {
        position: absolute;
        visibility: hidden;
    }

    .success input {
        border-color: #2ecc71;
    }

    .error textarea {
        border-color: #e74e3c;
    }

    .success textarea {
        border-color: #2ecc71;
    }

    .error input {
        border-color: #e74e3c;
    }

    small {
        margin-left: 20px;
        visibility: hidden;
    }

    .success i.fa-check-circle {
        color: #2ecc71;
        visibility: visible;
        margin-top: 6px
    }

    .error i.fa-exclamation-circle {
        color: #e74e3c;
        visibility: visible;
        margin-top: 6px
    }

    .error small {
        color: #e74e3c;
        visibility: visible;
    }

    .success small {
        color: #2ecc71;
        visibility: visible;
    }
</style>

<div class="col-12 col-xl-12">
    <h2 class="card-title mb-3"><span style="font-size: 20px;"><strong>Add SMS Notification</strong></span></h2>
    <div class="card">
        <div class="card-header">
        </div>
        <div class="card-body">
            <form id="form">
                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 text-sm-right">Mobile No.</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" placeholder="Mobile No." id="sms">
                        <i class="fas fa-check-circle"></i>
                        <i class="fas fa-exclamation-circle"></i>
                        <small>Error Message</small>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 text-sm-right">Subject</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" placeholder="SMS Subject" id="smsSubject">
                        <i class="fas fa-check-circle"></i>
                        <i class="fas fa-exclamation-circle"></i>
                        <small>Error Message</small>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 text-sm-right">Message</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" placeholder="Message" rows="3" id="message"></textarea>
                        <i class="fas fa-check-circle"></i>
                        <i class="fas fa-exclamation-circle"></i>
                        <small>Error Message</small>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 text-sm-right">Receiver's Name</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" placeholder="Receiver's Name" id="receiverName">
                        <i class="fas fa-check-circle"></i>
                        <i class="fas fa-exclamation-circle"></i>
                        <small>Error Message</small>
                    </div>
                </div>
                <div class="mb-3 row">
                    <div class="col-sm-10 ml-sm-auto">
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script type="text/javascript">
    const form = document.getElementById('form');
    const sms = document.getElementById('sms');
    const smsSubject = document.getElementById('smsSubject');
    const receiverName = document.getElementById('receiverName');
    const message = document.getElementById('message');

    form.addEventListener('submit', (e) => {
        e.preventDefault();

        checkInputs();
    });

    function checkInputs() {
        //get the values from the inputs
        const smsValue = sms.value.trim();
        const smsSubjectValue = smsSubject.value.trim();
        const messageValue = message.value.trim();
        const receiverNameValue = receiverName.value.trim();

        if (smsValue == "") {
            //show error and add erro class
            setErrorFor(sms, "Input Field Cannot Be Blank");
        } else {
            //show the success class
            setSuccessFor(sms, "Input Is Valid");
        }

        if (smsSubjectValue == "") {
            //show error and add erro class
            setErrorFor(smsSubject, "Input Field Cannot Be Blank");
        } else {
            //show the success class
            setSuccessFor(smsSubject, "Input Is Valid");
        }

        if (messageValue == "") {
            //show error and add erro class
            setErrorFor(message, "Input Field Cannot Be Blank");
        } else {
            //show the success class
            setSuccessFor(message, "Input Is Valid");
        }

        if (receiverNameValue == "") {
            //show error and add erro class
            setErrorFor(receiverName, "Input Field Cannot Be Blank");
        } else {
            //show the success class
            setSuccessFor(receiverName, "Input Is Valid");
        }
    }

    function setErrorFor(input , message) {
        const formControl = input.parentElement;
        const grandParent = formControl.parentElement;
        const small = formControl.querySelector('small');

        //add error message inside small tag
        small.innerText = message;

        //add error class
        grandParent.className = "mb-3 row error";
    }

    function setSuccessFor(input, message) {
        const formControl = input.parentElement;
        const grandParent = formControl.parentElement;
        const small = formControl.querySelector('small');

        //add success message inside small tag
        small.innerText = message;

        //add error class
        grandParent.className = "mb-3 row success";
    }

</script>